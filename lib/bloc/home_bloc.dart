import 'dart:async';import 'package:bloc/bloc.dart';import 'package:equatable/equatable.dart';import '../repository.dart';part 'home_event.dart';part 'home_state.dart';class HomeBloc extends Bloc<HomeEvent, HomeState> {  LocalStorage storage = LocalStorage();  HomeBloc() : super(const HomeState()) {    on<InitEvent>((event, emit) {      List<Map> map = storage.read();      emit(state.copyWith(history: map,index: int.parse(map.last.keys.toString())));    });  }}